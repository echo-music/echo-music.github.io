
## 一、什么是反射？
```
在计算机科学领域，反射是指一类应用，它们能够自描述和自控制。也就是说，这类应用通过采用某种机制来实现对自己行为的描述（self-representation）和监测（examination），
并能根据自身行为的状态和结果，调整或修改应用所描述行为的状态和相关的语义。每种语言的反射模型都不同，并且有些语言根本不支持反射。Golang语言实现了反射，
反射机制就是在运行时动态的调用对象的方法和属性，官方自带的reflect包就是反射相关的，只要包含这个包就可以使用。

```
## 二、反射的使用场景

### 1、动态初始化结构体数值
```
通常我们定义字段的状态的会有多个状态值，如果一个个手动设置很麻烦，

那么我们通过反射来动态初始化字段的状态值，做到状态统一管理。

```
```
package main

import (
	"fmt"
	"github.com/stoewer/go-strcase"
	"reflect"
)

type orderState struct {
	Closed  string
	WaitPay string
	Paid    string
	Cancel  string
}

var OrderStates orderState

func main() {

	v := reflect.ValueOf(&OrderStates).Elem()
	initStrAttr(v)
	fmt.Println(OrderStates)
	//out {closed wait_pay paid cancel}

}

func initStrAttr(v reflect.Value) {
	for i := 0; i < v.NumField(); i++ {
		t := v.Field(i).Kind()
		name := v.Type().Field(i).Name
		if v.Field(i).Kind() == reflect.String {
			v.Field(i).SetString(strcase.SnakeCase(name))
		} else {
			panic(fmt.Sprintf("结构体字段 %s 类型必须为字符串,而不是%s", name, t))
		}

	}
}
```









